<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Agent AI: A Case Study on the Financial Revolution</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #101121, #1a1a3d);
            color: #e0e7ff;
        }
        .glass-card {
            background: rgba(26, 26, 61, 0.6);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(167, 139, 250, 0.25);
        }
        .hero-glow {
            text-shadow: 0 0 10px rgba(196, 181, 253, 0.7), 0 0 20px rgba(196, 181, 253, 0.5), 0 0 35px rgba(196, 181, 253, 0.3);
        }
        .stat-value {
            font-weight: 900;
            color: #c4b5fd; /* A vibrant violet for key stats */
        }
        .before-value {
            text-decoration: line-through;
            color: #6b7280;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 320px;
            width: 100%;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 1s ease-out forwards;
        }
        .section-title {
            font-weight: 800;
            color: #e0e7ff;
            letter-spacing: -0.025em;
        }
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }
        .report-subtitle {
            font-size: 1.125rem;
            color: #a5b4fc;
            font-weight: 500;
            border-left: 3px solid #a78bfa;
            padding-left: 1rem;
            margin-bottom: 1rem;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #a78bfa;
            cursor: pointer;
            margin-top: -6px;
        }
        .nav-button {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s, color 0.3s;
            cursor: pointer;
            font-weight: 600;
            color: #c4b5fd;
            background: transparent;
        }
        .nav-button.active, .nav-button:hover {
            background-color: rgba(167, 139, 250, 0.2);
            color: #e0e7ff;
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        .icon-symbol {
            width: 4rem;
            height: 4rem;
            margin-bottom: 0.5rem;
            stroke-width: 1.5;
            color: #c4b5fd;
        }
        .muted{color:#94a3b8}
    </style>
</head>
<body class="antialiased">
    <div id="particles-js"></div>

    <div class="relative z-10 container mx-auto px-4 py-8 sm:py-12 md:py-16">

        <!-- Header -->
        <header class="text-center mb-12 fade-in">
            <h1 class="text-4xl md:text-6xl font-black text-white hero-glow">AI Teamwork in Finance</h1>
            <p class="text-xl md:text-2xl mt-4 text-violet-300">A Simple Guide to a Smarter Future</p>
        </header>

        <!-- Navigation -->
        <nav class="flex justify-center flex-wrap gap-2 sm:space-x-4 mb-12 glass-card p-2 max-w-3xl mx-auto">
            <button class="nav-button active" data-page="intro">Introduction</button>
            <button class="nav-button" data-page="dashboard">Dashboard</button>
            <button class="nav-button" data-page="past">The Past</button>
            <button class="nav-button" data-page="present">The AI Solution</button>
            <button class="nav-button" data-page="future">The Future</button>
        </nav>

        <!-- Page Content -->
        <main>
            <!-- Introduction Page -->
            <section id="intro" class="page active fade-in">
                <div class="text-center mb-16">
                     <p class="max-w-3xl mx-auto text-indigo-200">
                        See how teams of smart AI helpers are making finance faster, safer, and more efficient. This case study uses simple charts and numbers to show you the difference.
                    </p>
                </div>

                <div class="glass-card p-8 mb-20">
                    <p class="report-subtitle">A Big Change for Banking and Finance</p>
                    <p class="text-indigo-100 leading-relaxed">
                        Using teams of AI "agents" is changing everything. Think of them as smart helpers that work together 24/7. This report shows how they're making a huge impact with real numbers. We're seeing massive improvements like:
                    </p>
                    <ul class="list-disc list-inside mt-4 space-y-2 text-indigo-100">
                        <li><strong class="text-violet-300">10x higher productivity</strong> in operations and compliance.</li>
                        <li><strong class="text-green-400">Over 99.9% reduction</strong> in fraud detection time (from hours to seconds).</li>
                        <li>Saving large financial firms an estimated <strong class="text-violet-300">$373 million</strong> every year.</li>
                    </ul>
                </div>

                <h2 class="section-title text-3xl text-center mb-8">The Difference: AI vs. The Old Way</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="glass-card p-6 text-center">
                        <svg class="mx-auto icon-symbol" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                        <h3 class="text-lg font-semibold text-white">Annual Savings</h3>
                        <p class="text-sm text-indigo-200 mb-4">Estimated cost reduction</p>
                        <p class="stat-value text-4xl">$373M</p>
                        <p class="text-emerald-400 text-sm mt-2">+52% vs. baseline</p>
                    </div>
                    <div class="glass-card p-6 text-center">
                        <svg class="mx-auto icon-symbol" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        <h3 class="text-lg font-semibold text-white">Execution Speed</h3>
                        <p class="text-sm text-indigo-200 mb-4">Latency with AI agents</p>
                        <p class="stat-value text-4xl">14 ms</p>
                        <p class="text-emerald-400 text-sm mt-2">-88% vs. current</p>
                    </div>
                    <div class="glass-card p-6 text-center">
                        <svg class="mx-auto icon-symbol" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
                        <h3 class="text-lg font-semibold text-white">Accuracy Lift</h3>
                        <p class="text-sm text-indigo-200 mb-4">Improved decision making</p>
                        <p class="stat-value text-4xl">+60%</p>
                        <p class="text-emerald-400 text-sm mt-2">Better risk scoring</p>
                    </div>
                    <div class="glass-card p-6 text-center">
                        <svg class="mx-auto icon-symbol" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                        <h3 class="text-lg font-semibold text-white">Productivity</h3>
                        <p class="text-sm text-indigo-200 mb-4">Increase in efficiency</p>
                        <p class="stat-value text-4xl">10Ã—</p>
                        <p class="text-emerald-400 text-sm mt-2">Across ops & compliance</p>
                    </div>
                </div>
            </section>

            <!-- Dashboard Page -->
            <section id="dashboard" class="page fade-in">
                <h2 class="section-title text-3xl text-center mb-6">Live Performance Dashboard</h2>
                <p class="max-w-3xl mx-auto text-center text-indigo-200 mb-12">This dashboard shows a real-time view of AI agents at work, using sample data to illustrate their impact.</p>

                <!-- KPI Cards -->
                <div class="grid md:grid-cols-4 gap-4 md:gap-6 mt-8">
                  <div class="glass-card p-5">
                    <div class="muted text-sm">Annual cost savings (est.)</div>
                    <div class="text-3xl font-bold mt-2 text-violet-300">$373M</div>
                    <div class="text-emerald-400 text-sm mt-2">+52% vs. baseline</div>
                  </div>
                  <div class="glass-card p-5">
                    <div class="muted text-sm">Exec latency (AI)</div>
                    <div class="text-3xl font-bold mt-2 text-violet-300">14 ms</div>
                    <div class="text-emerald-400 text-sm mt-2">-88% vs. current</div>
                  </div>
                  <div class="glass-card p-5">
                    <div class="muted text-sm">Decision accuracy lift</div>
                    <div class="text-3xl font-bold mt-2 text-violet-300">+60%</div>
                    <div class="text-emerald-400 text-sm mt-2">Improved risk/fraud scoring</div>
                  </div>
                  <div class="glass-card p-5">
                    <div class="muted text-sm">Productivity</div>
                    <div class="text-3xl font-bold mt-2 text-violet-300">10Ã—</div>
                    <div class="text-emerald-400 text-sm mt-2">Ops & compliance</div>
                  </div>
                </div>

                <!-- Charts -->
                <div class="grid md:grid-cols-3 gap-4 md:gap-6 mt-6">
                  <div class="glass-card p-5 md:col-span-2">
                    <div class="muted mb-2">Daily Transaction Throughput</div>
                    <canvas id="throughputChart" height="120"></canvas>
                  </div>
                  <div class="glass-card p-5">
                    <div class="muted mb-2">Agent Performance (normalized)</div>
                    <canvas id="agentRadarChart" height="120"></canvas>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4 md:gap-6 mt-6">
                  <div class="glass-card p-5">
                    <div class="muted mb-2">Monthly Operating Cost by Function</div>
                    <canvas id="dashboardCostChart" height="120"></canvas>
                  </div>
                  <div class="glass-card p-5">
                    <div class="flex items-center gap-2 mb-3">
                      <h3 class="text-lg font-semibold">Current vs Multiâ€‘Agent AI</h3>
                    </div>
                    <table class="w-full text-sm">
                      <thead class="muted">
                        <tr><th class="py-2 text-left">Metric</th><th class="py-2 text-left">Current</th><th class="py-2 text-left">With MAâ€‘AI</th><th class="py-2 text-left text-violet-300">Change</th></tr>
                      </thead>
                      <tbody>
                        <tr class="border-t border-indigo-900"><td class="py-2">Trade Execution Latency</td><td>120 ms</td><td>14 ms</td><td class="text-blue-300">â€‘88%</td></tr>
                        <tr class="border-t border-indigo-900"><td class="py-2">Fraud Detection Time</td><td>2â€“3 hours</td><td>&lt; 1 sec</td><td class="text-blue-300">â€‘99.99%</td></tr>
                        <tr class="border-t border-indigo-900"><td class="py-2">Compliance Checks</td><td>8 hours</td><td>30 sec</td><td class="text-blue-300">â€‘99.9%</td></tr>
                        <tr class="border-t border-indigo-900"><td class="py-2">Customer Response</td><td>24â€“48 hours</td><td>Instant</td><td class="text-blue-300">â€‘100%</td></tr>
                        <tr class="border-t border-indigo-900"><td class="py-2">Automation Level</td><td>25%</td><td>92%</td><td class="text-blue-300">+67 pp</td></tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                
                <!-- ROI Calculator -->
                <div class="glass-card p-6 mt-6">
                  <h3 class="text-lg font-semibold">Interactive ROI Calculator</h3>
                  <p class="muted text-sm mt-1">Adjust the inputs to estimate monthly & annual savings.</p>
                  <div class="grid md:grid-cols-4 gap-4 mt-4">
                    <label class="text-sm muted">Transactions / month
                      <input id="txn" type="number" value="120000000" class="mt-1 w-full bg-indigo-900/60 border border-indigo-700 rounded-lg p-2 text-white"/>
                    </label>
                    <label class="text-sm muted">Cost per txn (USD)
                      <input id="cpt" type="number" step="0.001" value="0.015" class="mt-1 w-full bg-indigo-900/60 border border-indigo-700 rounded-lg p-2 text-white"/>
                    </label>
                    <label class="text-sm muted">Automation lift (0..1)
                      <input id="lift" type="number" step="0.01" value="0.48" class="mt-1 w-full bg-indigo-900/60 border border-indigo-700 rounded-lg p-2 text-white"/>
                    </label>
                    <label class="text-sm muted">Error reduction (0..1)
                      <input id="err" type="number" step="0.01" value="0.7" class="mt-1 w-full bg-indigo-900/60 border border-indigo-700 rounded-lg p-2 text-white"/>
                    </label>
                  </div>
                  <div class="mt-4">
                    <button id="calcBtn" class="px-4 py-2 rounded-lg bg-violet-600 hover:bg-violet-500">Calculate</button>
                  </div>
                  <div id="roiOut" class="grid md:grid-cols-4 gap-4 mt-6 hidden">
                    <div class="glass-card p-4"><div class="muted text-sm">Current monthly cost</div><div id="cur" class="text-2xl font-bold mt-1"></div></div>
                    <div class="glass-card p-4"><div class="muted text-sm">AI monthly cost</div><div id="ai" class="text-2xl font-bold mt-1"></div></div>
                    <div class="glass-card p-4"><div class="muted text-sm">Savings / month</div><div id="sav" class="text-2xl font-bold mt-1"></div></div>
                    <div class="glass-card p-4"><div class="muted text-sm">Payback (weeks)</div><div id="pb" class="text-2xl font-bold mt-1"></div></div>
                    <div class="md:col-span-4"><span class="muted">Annual savings:</span> <span id="ann" class="font-semibold text-white"></span></div>
                  </div>
                </div>
            </section>
            
            <!-- The Past Page -->
            <section id="past" class="page fade-in">
                <h2 class="section-title text-3xl text-center mb-6">The Past: The World Before AI Teams</h2>
                <p class="max-w-3xl mx-auto text-center text-indigo-200 mb-12">Financial work was slow, expensive, and prone to human error. Let's look at the numbers.</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="glass-card p-8">
                        <h3 class="font-semibold text-white text-xl mb-4 text-center">Key Problems</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start"><strong class="mr-3 text-red-400 text-xl">1.</strong><div><strong class="text-white">Slow Processes:</strong> Compliance checks took up to 8 hours and customer responses could take 48 hours.</div></li>
                            <li class="flex items-start"><strong class="mr-3 text-red-400 text-xl">2.</strong><div><strong class="text-white">High Costs & Low Automation:</strong> With only 25% of tasks automated, firms faced huge labor costs and operational bottlenecks.</div></li>
                            <li class="flex items-start"><strong class="mr-3 text-red-400 text-xl">3.</strong><div><strong class="text-white">Execution Delays:</strong> A standard trade execution took 120 milliseconds, a lifetime in high-frequency markets.</div></li>
                             <li class="flex items-start"><strong class="mr-3 text-red-400 text-xl">4.</strong><div><strong class="text-white">Fraud Risks:</strong> It took 2-3 hours to detect fraud, by which time the money was often long gone.</div></li>
                        </ul>
                    </div>
                    <div class="glass-card p-6">
                        <h3 class="font-semibold text-white text-center mb-4">Rising Costs of Manual Work (Annual)</h3>
                        <div class="chart-container"><canvas id="pastCostsChart"></canvas></div>
                    </div>
                </div>
            </section>

            <!-- The Present Page -->
            <section id="present" class="page fade-in">
                <h2 class="section-title text-3xl text-center mb-6">The AI Solution: A Team of Smart Helpers</h2>
                <p class="max-w-3xl mx-auto text-center text-indigo-200 mb-12">Instead of one giant AI, the solution is a team of specialized agents that work together perfectly. This brings automation levels from 25% to over 92%.</p>
                
                <div class="glass-card p-8 mb-12">
                    <h3 class="font-semibold text-white text-xl mb-4 text-center">Example: AI Team Processing a Trade</h3>
                    <div class="flex flex-col md:flex-row justify-between items-center text-center space-y-4 md:space-y-0">
                        <div><div class="w-16 h-16 rounded-full bg-violet-900 mx-auto flex items-center justify-center font-bold text-lg mb-2 border-2 border-violet-500">1</div><strong class="text-white">Ingestion Agent</strong><p class="text-sm text-indigo-200">Receives order</p></div>
                        <div class="text-violet-400 font-bold text-2xl">â†’</div>
                        <div><div class="w-16 h-16 rounded-full bg-violet-900 mx-auto flex items-center justify-center font-bold text-lg mb-2 border-2 border-violet-500">2</div><strong class="text-white">Risk Agent</strong><p class="text-sm text-indigo-200">Scores risk (<1ms)</p></div>
                         <div class="text-violet-400 font-bold text-2xl">â†’</div>
                        <div><div class="w-16 h-16 rounded-full bg-violet-900 mx-auto flex items-center justify-center font-bold text-lg mb-2 border-2 border-violet-500">3</div><strong class="text-white">Compliance Agent</strong><p class="text-sm text-indigo-200">Checks rules (<1ms)</p></div>
                         <div class="text-violet-400 font-bold text-2xl">â†’</div>
                        <div><div class="w-16 h-16 rounded-full bg-violet-900 mx-auto flex items-center justify-center font-bold text-lg mb-2 border-2 border-violet-500">4</div><strong class="text-white">Execution Agent</strong><p class="text-sm text-indigo-200">Places trade (14ms)</p></div>
                    </div>
                </div>

                <div class="glass-card p-8">
                    <h3 class="font-semibold text-white text-xl mb-4 text-center">Core Agent Capabilities</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                        <div>
                            <svg class="mx-auto h-12 w-12 text-violet-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                            <h4 class="font-semibold mt-2">Data Ingestion & Analysis</h4>
                            <p class="text-sm text-indigo-200">Agents read and understand millions of documents, transactions, and news articles in real-time.</p>
                        </div>
                        <div>
                            <svg class="mx-auto h-12 w-12 text-violet-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
                            <h4 class="font-semibold mt-2">Risk & Fraud Scoring</h4>
                            <p class="text-sm text-indigo-200">AI models instantly score every transaction for risk and fraud potential with over 60% better accuracy.</p>
                        </div>
                        <div>
                            <svg class="mx-auto h-12 w-12 text-violet-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8 9l4-4 4 4m0 6l-4 4-4-4" /></svg>
                            <h4 class="font-semibold mt-2">Reliable Execution</h4>
                            <p class="text-sm text-indigo-200">Automated agents perform tasks like trading and reporting with near-perfect reliability, reducing costly errors.</p>
                        </div>
                        <div>
                            <svg class="mx-auto h-12 w-12 text-violet-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m-9 9h18" /></svg>
                            <h4 class="font-semibold mt-2">Compliance Coverage</h4>
                            <p class="text-sm text-indigo-200">Agents ensure every action adheres to complex financial regulations automatically, slashing compliance time.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- The Future Page -->
            <section id="future" class="page fade-in">
                 <h2 class="section-title text-3xl text-center mb-6">The Future: What's Next?</h2>
                <p class="max-w-3xl mx-auto text-center text-indigo-200 mb-12">The AI revolution is just getting started. Hereâ€™s a look at what we can expect in the coming years.</p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                    <div class="glass-card p-6 text-center">
                        <svg class="mx-auto icon-symbol" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                        <h3 class="font-semibold text-white text-xl mb-2">Hyper-Personalization</h3>
                        <p class="text-sm text-indigo-200">AI agents will act as personal financial advisors for everyone, offering advice perfectly tailored to your life goals and spending habits.</p>
                    </div>
                     <div class="glass-card p-6 text-center">
                        <svg class="mx-auto icon-symbol" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                        <h3 class="font-semibold text-white text-xl mb-2">Predictive Markets</h3>
                        <p class="text-sm text-indigo-200">AI teams will analyze global data to predict market shifts with stunning accuracy, helping to prevent financial crises before they begin.</p>
                    </div>
                     <div class="glass-card p-6 text-center">
                        <svg class="mx-auto icon-symbol" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h5V4H4zm0 9h5v5H4v-5zm9-9h5v5h-5V4zm0 9h5v5h-5v-5z" /></svg>
                        <h3 class="font-semibold text-white text-xl mb-2">Autonomous Finance</h3>
                        <p class="text-sm text-indigo-200">Routine financial tasks like bill payments, investing, and tax preparation will be handled automatically and optimized by your personal AI agents.</p>
                    </div>
                </div>
                
                <div class="glass-card p-6">
                    <h3 class="font-semibold text-white text-center mb-4">Projected Growth of AI Automation in Finance</h3>
                    <div class="chart-container" style="height: 350px;"><canvas id="futureGrowthChart"></canvas></div>
                </div>
            </section>
        </main>
        
        <!-- Footer -->
        <footer class="text-center text-gray-500 border-t border-gray-700 pt-8 mt-12">
            <p>&copy; 2025 Financial AI Dynamics. A demonstration for educational purposes.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const pages = document.querySelectorAll('.page');
            const navButtons = document.querySelectorAll('.nav-button');
            let charts = {};

            // Chart.js Configuration
            const chartTextColor = '#e0e7ff';
            const chartGridColor = 'rgba(167, 139, 250, 0.15)';
            const newThemeColors = {
                before: 'rgba(107, 114, 128, 0.6)',
                after: 'rgba(167, 139, 250, 0.6)',
                line: 'rgba(196, 181, 253, 1)',
                fill: 'rgba(196, 181, 253, 0.2)',
                radarBg: 'rgba(167, 139, 250, 0.2)',
                radarLine: 'rgba(167, 139, 250, 1)',
            };

            function initChartsForPage(pageId) {
                // Destroy existing charts to prevent memory leaks and canvas reuse errors
                Object.values(charts).forEach(chart => {
                    if (chart) chart.destroy();
                });
                charts = {};

                if (pageId === 'past') {
                    const pastCostsCtx = document.getElementById('pastCostsChart')?.getContext('2d');
                    if (pastCostsCtx) charts.pastCostsChart = new Chart(pastCostsCtx, {
                        type: 'line',
                        data: {
                            labels: ['2018', '2020', '2022', '2024'],
                            datasets: [{
                                label: 'Compliance & Error Costs (Millions)',
                                data: [85, 110, 150, 210],
                                fill: true,
                                backgroundColor: 'rgba(239, 68, 68, 0.2)',
                                borderColor: 'rgba(239, 68, 68, 1)',
                                tension: 0.4
                            }]
                        },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: chartTextColor } } }, scales: { y: { beginAtZero: false, ticks: { color: chartTextColor }, grid: { color: chartGridColor } }, x: { ticks: { color: chartTextColor }, grid: { color: 'transparent' } } } }
                    });
                } else if (pageId === 'future') {
                    const futureGrowthCtx = document.getElementById('futureGrowthChart')?.getContext('2d');
                    if (futureGrowthCtx) charts.futureGrowthChart = new Chart(futureGrowthCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Past (2020)', 'Present (2025)', 'Future (2030)'],
                            datasets: [{
                                label: '% of Tasks Automated',
                                data: [25, 92, 98],
                                backgroundColor: [newThemeColors.before, newThemeColors.after, 'rgba(52, 211, 153, 0.6)'],
                            }]
                        },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { max: 100, ticks: { color: chartTextColor, callback: (value) => value + '%' }, grid: { color: chartGridColor } }, x: { ticks: { color: chartTextColor }, grid: { color: 'transparent' } } } }
                    });
                } else if (pageId === 'dashboard') {
                    const throughputCtx = document.getElementById('throughputChart')?.getContext('2d');
                    const throughputLabels = Array.from({length: 30}, (_,i)=>`D${i+1}`);
                    const currentData = throughputLabels.map((_,i)=>Math.round(3000000*(0.8+0.1*Math.sin(i/3))));
                    const aiData = currentData.map((c,i)=>Math.round(c*(2.5 + 4.5*(i/29)*(2 - (i/29)) + 2)));
                    if (throughputCtx) charts.throughputChart = new Chart(throughputCtx, {
                      type: 'line',
                      data: { labels: throughputLabels, datasets: [{ label: 'Current', data: currentData, borderWidth: 2, tension: .3, borderColor: newThemeColors.before }, { label: 'With Multiâ€‘Agent AI', data: aiData, borderWidth: 2, tension: .3, borderColor: newThemeColors.line, backgroundColor: newThemeColors.fill, fill: true }] },
                      options: { responsive: true, plugins: { legend: { labels: { color: chartTextColor } } }, scales: { x: { ticks: { color: '#94a3b8' }, grid: { color: chartGridColor} }, y: { ticks: { color: '#94a3b8' }, grid: { color: chartGridColor} } } }
                    });

                    const agentRadarCtx = document.getElementById('agentRadarChart')?.getContext('2d');
                    if(agentRadarCtx) charts.agentRadarChart = new Chart(agentRadarCtx, {
                      type: 'radar',
                      data: { labels: ['Ingestion Quality','Risk AUC','Fraud Recall','Compliance Coverage','Execution Reliability'], datasets: [{ label: 'Score', data: [0.94,0.92,0.96,0.91,0.95], borderWidth: 2, fill: true, borderColor: newThemeColors.radarLine, backgroundColor: newThemeColors.radarBg }] },
                      options: { responsive: true, plugins: { legend: { labels: { color: chartTextColor } } }, scales: { r: { ticks: { display: false }, grid: { color: chartGridColor }, angleLines: { color: chartGridColor }, pointLabels: { color: '#94a3b8' }, suggestedMin: 0, suggestedMax: 1 } } }
                    });

                    const dashboardCostCtx = document.getElementById('dashboardCostChart')?.getContext('2d');
                    if(dashboardCostCtx) charts.dashboardCostChart = new Chart(dashboardCostCtx, {
                      type: 'bar',
                      data: {
                        labels: ['Payments Ops','Risk & Compliance','Customer Ops','Trading Ops'],
                        datasets: [{ label: 'Current', data: [2200000,1600000,1150000,1800000], borderWidth: 1, backgroundColor: newThemeColors.before },{ label: 'With Multiâ€‘Agent AI', data: [990000,1040000,690000,900000], borderWidth: 1, backgroundColor: newThemeColors.after }]
                      },
                      options: { responsive: true, plugins: { legend: { labels: { color: chartTextColor } } }, scales: { x: { ticks: { color: '#94a3b8' }, grid: { color: 'transparent'} }, y: { ticks: { color: '#94a3b8' }, grid: { color: chartGridColor} } } }
                    });
                }
            }

            function setActivePage(pageId) {
                pages.forEach(page => {
                    page.classList.toggle('active', page.id === pageId);
                });
                navButtons.forEach(button => {
                    button.classList.toggle('active', button.dataset.page === pageId);
                });
                initChartsForPage(pageId);
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    setActivePage(button.dataset.page);
                });
            });

            // ROI calculator (client-only)
            function fmtUSD(n){ return '$' + n.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 }); }
            document.getElementById('calcBtn').addEventListener('click', () => {
              const txn = Number(document.getElementById('txn').value || 0);
              const cpt = Number(document.getElementById('cpt').value || 0);
              const lift = Number(document.getElementById('lift').value || 0);
              const err = Number(document.getElementById('err').value || 0);
              const currentCost = txn * cpt;
              const aiCost = currentCost * (1 - lift);
              const errorSavings = currentCost * err * 0.1;
              const monthlySavings = (currentCost - aiCost) + errorSavings;
              const annualSavings = monthlySavings * 12;
              const paybackWeeks = monthlySavings > 0 ? Math.max(1, Math.round((currentCost * 0.5) / (monthlySavings / 4))) : Infinity;

              document.getElementById('cur').textContent = fmtUSD(currentCost);
              document.getElementById('ai').textContent = fmtUSD(aiCost);
              document.getElementById('sav').textContent = fmtUSD(monthlySavings);
              document.getElementById('ann').textContent = fmtUSD(annualSavings);
              document.getElementById('pb').textContent = paybackWeeks !== Infinity ? paybackWeeks : 'N/A';
              document.getElementById('roiOut').classList.remove('hidden');
            });
            

            // Particles BG
            const particlesContainer = document.getElementById('particles-js');
            if (particlesContainer && !particlesContainer.childElementCount) {
                 const numParticles = 50;
                for (let i = 0; i < numParticles; i++) {
                    let particle = document.createElement('div');
                    let size = Math.random() * 2 + 1;
                    let x = Math.random() * 100;
                    let y = Math.random() * 100;
                    let duration = Math.random() * 20 + 15;
                    let delay = Math.random() * 10;
                    
                    particle.style.cssText = `
                        position: absolute;
                        background-color: rgba(167, 139, 250, 0.3);
                        border-radius: 50%;
                        width: ${size}px;
                        height: ${size}px;
                        left: ${x}%;
                        top: ${y}%;
                        animation: moveParticle ${duration}s linear infinite;
                        animation-delay: ${delay}s;
                    `;
                    particlesContainer.appendChild(particle);
                }

                const style = document.createElement('style');
                style.innerHTML = `
                @keyframes moveParticle {
                    0% { transform: translate(0, 0) scale(1); opacity: 1; }
                    50% { transform: translate(${Math.random() * 200 - 100}px, ${Math.random() * 200 - 100}px) scale(1.5); opacity: 0.5; }
                    100% { transform: translate(0, 0) scale(1); opacity: 1; }
                }`;
                document.head.appendChild(style);
            }

            // Set initial page
            setActivePage('intro');
            document.getElementById('calcBtn').click();
        });
    </script>
</body>
</html>

